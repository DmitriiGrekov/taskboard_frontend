{"ast":null,"code":"import _classCallCheck from\"D:/Code/Python DJANGO/taskboard/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"D:/Code/Python DJANGO/taskboard/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"D:/Code/Python DJANGO/taskboard/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"D:/Code/Python DJANGO/taskboard/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var RegisterBlock=/*#__PURE__*/function(_Component){_inherits(RegisterBlock,_Component);var _super=_createSuper(RegisterBlock);function RegisterBlock(props){var _this;_classCallCheck(this,RegisterBlock);_this=_super.call(this,props);_this.usernameRef=/*#__PURE__*/React.createRef();_this.passwordRef=/*#__PURE__*/React.createRef();_this.password2Ref=/*#__PURE__*/React.createRef();_this.emailRef=/*#__PURE__*/React.createRef();_this.register_user=function(e){e.preventDefault();var password=_this.passwordRef.current.value;var password2=_this.password2Ref.current.value;if(password!=password2){_this.setState({password_d_match:true});}else{_this.setState({password_d_match:false});}if(password.length<8){_this.setState({password_small:true});}else{_this.setState({password_small:false});}var data={username:_this.usernameRef.current.value,password:password,email:_this.emailRef.current.value};var url=\"https://taskboard.pythonanywhere.com//auth/users/\";axios({method:\"post\",url:url,data:data,config:{headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\"}}}).then(function(response){_this.setState({user_exist:false,register_success:true});}).catch(function(error){_this.setState({user_exist:true});});};_this.state={password_d_match:false,password_small:false,user_exist:false,register_success:false};return _this;}_createClass(RegisterBlock,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{className:\"register_form\",children:/*#__PURE__*/_jsxs(\"form\",{children:[this.state.password_d_match?/*#__PURE__*/_jsx(\"div\",{class:\"alert alert-danger\",role:\"alert\",children:\"\\u0412\\u0430\\u0448\\u0438 \\u043F\\u0430\\u0440\\u043E\\u043B\\u0438 \\u043D\\u0435 \\u0441\\u043E\\u0432\\u043F\\u0430\\u0434\\u0430\\u044E\\u0442\"}):/*#__PURE__*/_jsx(_Fragment,{}),this.state.password_small?/*#__PURE__*/_jsx(\"div\",{class:\"alert alert-danger\",role:\"alert\",children:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C \\u0441\\u043B\\u0438\\u0448\\u043A\\u043E\\u043C \\u043A\\u043E\\u0440\\u043E\\u0442\\u043A\\u0438\\u0439\"}):/*#__PURE__*/_jsx(_Fragment,{}),this.state.user_exist?/*#__PURE__*/_jsx(\"div\",{class:\"alert alert-danger\",role:\"alert\",children:\"\\u041F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044C \\u0441 \\u0434\\u0430\\u043D\\u043D\\u044B\\u043C \\u043B\\u043E\\u0433\\u0438\\u043D\\u043E\\u043C \\u0438\\u043B\\u0438 \\u043F\\u043E\\u0447\\u0442\\u043E\\u0439 \\u0443\\u0436\\u0435 \\u0441\\u0443\\u0449\\u0435\\u0441\\u0442\\u0432\\u0443\\u0435\\u0442\"}):/*#__PURE__*/_jsx(_Fragment,{}),this.state.register_success?/*#__PURE__*/_jsx(\"div\",{class:\"alert alert-success\",role:\"alert\",children:\"\\u0412\\u044B \\u0443\\u0441\\u043F\\u0435\\u0448\\u043D\\u043E \\u0437\\u0430\\u0440\\u0435\\u0433\\u0435\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u043D\\u044B, \\u043C\\u043E\\u0436\\u0435\\u0442\\u0435 \\u0430\\u0432\\u0442\\u043E\\u0440\\u0438\\u0437\\u043E\\u0432\\u0430\\u0442\\u044C\\u0441\\u044F\"}):/*#__PURE__*/_jsx(_Fragment,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"login\",children:\"\\u041B\\u043E\\u0433\\u0438\\u043D\"}),/*#__PURE__*/_jsx(\"input\",{ref:this.usernameRef,type:\"text\",className:\"form-control\",id:\"login\",\"aria-describedby\":\"emailHelp\",name:\"login\",placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043B\\u043E\\u0433\\u0438\\u043D\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"\\u041F\\u043E\\u0447\\u0442\\u0430\"}),/*#__PURE__*/_jsx(\"input\",{ref:this.emailRef,type:\"email\",className:\"form-control\",id:\"email\",placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043F\\u043E\\u0447\\u0442\\u0443\",name:\"email\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\"}),/*#__PURE__*/_jsx(\"input\",{ref:this.passwordRef,type:\"password\",name:\"password\",className:\"form-control\",id:\"password\",placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password2\",children:\"\\u041F\\u043E\\u0432\\u0442\\u043E\\u0440\\u0438\\u0442\\u0435 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\"}),/*#__PURE__*/_jsx(\"input\",{ref:this.password2Ref,type:\"password\",name:\"password1\",className:\"form-control\",id:\"password2\",placeholder:\"\\u041F\\u043E\\u0432\\u0442\\u043E\\u0440\\u0438\\u0442\\u0435 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",onClick:this.register_user,children:\"\\u0417\\u0430\\u0440\\u0435\\u0433\\u0435\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\\u0441\\u044F\"})]})});}}]);return RegisterBlock;}(Component);export{RegisterBlock as default};","map":{"version":3,"sources":["D:/Code/Python DJANGO/taskboard/frontend/src/components/right_side/register_block.js"],"names":["React","Component","axios","RegisterBlock","props","usernameRef","createRef","passwordRef","password2Ref","emailRef","register_user","e","preventDefault","password","current","value","password2","setState","password_d_match","length","password_small","data","username","email","url","method","config","headers","Accept","then","response","user_exist","register_success","catch","error","state"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nexport default class RegisterBlock extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      password_d_match: false,\r\n      password_small: false,\r\n      user_exist: false,\r\n      register_success: false,\r\n    };\r\n  }\r\n  usernameRef = React.createRef();\r\n  passwordRef = React.createRef();\r\n  password2Ref = React.createRef();\r\n  emailRef = React.createRef();\r\n\r\n  register_user = (e) => {\r\n    e.preventDefault();\r\n    let password = this.passwordRef.current.value;\r\n    let password2 = this.password2Ref.current.value;\r\n\r\n    if (password != password2) {\r\n      this.setState({ password_d_match: true });\r\n    } else {\r\n      this.setState({ password_d_match: false });\r\n    }\r\n\r\n    if (password.length < 8) {\r\n      this.setState({ password_small: true });\r\n    } else {\r\n      this.setState({ password_small: false });\r\n    }\r\n\r\n    let data = {\r\n      username: this.usernameRef.current.value,\r\n      password: password,\r\n      email: this.emailRef.current.value,\r\n    };\r\n    const url = \"https://taskboard.pythonanywhere.com//auth/users/\";\r\n\r\n    axios({\r\n      method: \"post\",\r\n      url: url,\r\n      data: data,\r\n      config: {\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      },\r\n    })\r\n      .then((response) => {\r\n        this.setState({ user_exist: false, register_success: true });\r\n      })\r\n      .catch((error) => {\r\n        this.setState({ user_exist: true });\r\n      });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"register_form\">\r\n        <form>\r\n          {this.state.password_d_match ? (\r\n            <div class=\"alert alert-danger\" role=\"alert\">\r\n              Ваши пароли не совпадают\r\n            </div>\r\n          ) : (\r\n            <></>\r\n          )}\r\n\r\n          {this.state.password_small ? (\r\n            <div class=\"alert alert-danger\" role=\"alert\">\r\n              Пароль слишком короткий\r\n            </div>\r\n          ) : (\r\n            <></>\r\n          )}\r\n\r\n          {this.state.user_exist ? (\r\n            <div class=\"alert alert-danger\" role=\"alert\">\r\n              Пользователь с данным логином или почтой уже существует\r\n            </div>\r\n          ) : (\r\n            <></>\r\n          )}\r\n\r\n          {this.state.register_success ? (\r\n            <div class=\"alert alert-success\" role=\"alert\">\r\n              Вы успешно зарегестрированны, можете авторизоваться\r\n            </div>\r\n          ) : (\r\n            <></>\r\n          )}\r\n\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"login\">Логин</label>\r\n            <input\r\n              ref={this.usernameRef}\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"login\"\r\n              aria-describedby=\"emailHelp\"\r\n              name=\"login\"\r\n              placeholder=\"Введите логин\"\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"email\">Почта</label>\r\n            <input\r\n              ref={this.emailRef}\r\n              type=\"email\"\r\n              className=\"form-control\"\r\n              id=\"email\"\r\n              placeholder=\"Введите почту\"\r\n              name=\"email\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"password\">Пароль</label>\r\n            <input\r\n              ref={this.passwordRef}\r\n              type=\"password\"\r\n              name=\"password\"\r\n              className=\"form-control\"\r\n              id=\"password\"\r\n              placeholder=\"Введите пароль\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"password2\">Повторите пароль</label>\r\n            <input\r\n              ref={this.password2Ref}\r\n              type=\"password\"\r\n              name=\"password1\"\r\n              className=\"form-control\"\r\n              id=\"password2\"\r\n              placeholder=\"Повторите пароль\"\r\n            />\r\n          </div>\r\n          <br />\r\n          <button\r\n            type=\"submit\"\r\n            className=\"btn btn-primary\"\r\n            onClick={this.register_user}\r\n          >\r\n            Зарегестрироваться\r\n          </button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}