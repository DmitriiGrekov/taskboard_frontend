{"ast":null,"code":"import _classCallCheck from\"D:/Code/Python DJANGO/taskboard/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"D:/Code/Python DJANGO/taskboard/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"D:/Code/Python DJANGO/taskboard/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"D:/Code/Python DJANGO/taskboard/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddTaskBlock=/*#__PURE__*/function(_Component){_inherits(AddTaskBlock,_Component);var _super=_createSuper(AddTaskBlock);function AddTaskBlock(props){var _this;_classCallCheck(this,AddTaskBlock);_this=_super.call(this,props);_this.titleRef=/*#__PURE__*/React.createRef();_this.contentRef=/*#__PURE__*/React.createRef();_this.dateRef=/*#__PURE__*/React.createRef();_this.add_task=function(e){e.preventDefault();if(_this.props.auth){var title=_this.titleRef.current.value;var content=_this.contentRef.current.value;var date=_this.dateRef.current.value;var token=\"Token \"+localStorage.getItem('user_token');var url='https://taskboard.pythonanywhere.com/api/v1/list/tasks/';var data={title:title,content:content,date_ending:date};axios({method:\"post\",url:url,data:data,headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\",Authorization:token}}).then(function(response){console.log(response.data);_this.props.add_new_task_in_state(response.data);}).catch(function(error){});}};_this.state={display:true};return _this;}_createClass(AddTaskBlock,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{style:{display:this.props.auth&&!this.props.current_task_vision?\"block\":\"none\"},className:\"task_add_form\",children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-1\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",children:\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u0437\\u0430\\u043F\\u0438\\u0441\\u0438\"}),/*#__PURE__*/_jsx(\"input\",{ref:this.titleRef,type:\"text\",className:\"form-control\",id:\"title\",name:\"title\",\"aria-describedby\":\"Title\",placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0435 \\u0437\\u0430\\u043F\\u0438\\u0441\\u0438\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-2\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"content\",children:\"\\u0421\\u043E\\u0434\\u0435\\u0440\\u0436\\u0430\\u043D\\u0438\\u0435 \\u0437\\u0430\\u043F\\u0438\\u0441\\u0438\"}),/*#__PURE__*/_jsx(\"textarea\",{ref:this.contentRef,name:\"content\",id:\"content\",cols:\"30\",rows:\"10\",className:\"form-control\",placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0447\\u0442\\u043E \\u043D\\u0435\\u043E\\u0431\\u0445\\u043E\\u0434\\u0438\\u043C\\u043E \\u0437\\u0430\\u043F\\u043E\\u043C\\u043D\\u0438\\u0442\\u044C\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{ref:this.dateRef,type:\"date\",className:\"form-control\",name:\"date\"})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",onClick:this.add_task,children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0437\\u0430\\u043F\\u0438\\u0441\\u044C\"})]})});}}]);return AddTaskBlock;}(Component);export{AddTaskBlock as default};","map":{"version":3,"sources":["D:/Code/Python DJANGO/taskboard/frontend/src/components/right_side/add_task_block.js"],"names":["React","Component","axios","AddTaskBlock","props","titleRef","createRef","contentRef","dateRef","add_task","e","preventDefault","auth","title","current","value","content","date","token","localStorage","getItem","url","data","date_ending","method","headers","Accept","Authorization","then","response","console","log","add_new_task_in_state","catch","error","state","display","current_task_vision"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nexport default class AddTaskBlock extends Component {\r\n  constructor(props){\r\n    super(props)\r\n    this.state = {\r\n      display: true,\r\n\r\n    }\r\n  }\r\n\r\n  titleRef = React.createRef();\r\n  contentRef = React.createRef();\r\n  dateRef = React.createRef();\r\n\r\n\r\n  add_task = (e) => {\r\n    e.preventDefault();\r\n    if(this.props.auth){\r\n    let title = this.titleRef.current.value;\r\n    let content = this.contentRef.current.value;\r\n    let date = this.dateRef.current.value;\r\n    let token = \"Token \" + localStorage.getItem('user_token')\r\n\r\n    let url = 'https://taskboard.pythonanywhere.com/api/v1/list/tasks/'\r\n    let data = {\r\n      title: title,\r\n      content: content,\r\n      date_ending: date\r\n    }\r\n\r\n    axios({\r\n      method: \"post\",\r\n      url: url,\r\n      data: data,\r\n      headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: token,\r\n        },\r\n      },\r\n    )\r\n      .then((response) => {\r\n        console.log(response.data)\r\n        this.props.add_new_task_in_state(response.data)\r\n      })\r\n      .catch((error) => {\r\n      });\r\n\r\n\r\n\r\n    }\r\n  }\r\n \r\n  render() {\r\n    \r\n    return (\r\n      <div style={{display: this.props.auth && !this.props.current_task_vision ? \"block\" : \"none\"}} className=\"task_add_form\">\r\n        <form>\r\n          <div className=\"form-group mb-1\">\r\n            <label htmlFor=\"title\">Название записи</label>\r\n            <input\r\n              ref={this.titleRef}\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"title\"\r\n              name=\"title\"\r\n              aria-describedby=\"Title\"\r\n              placeholder=\"Введите назване записи\"\r\n            />\r\n          </div>\r\n          <div className=\"form-group mb-2\">\r\n            <label htmlFor=\"content\">Содержание записи</label>\r\n            <textarea\r\n              ref={this.contentRef}\r\n              name=\"content\"\r\n              id=\"content\"\r\n              cols=\"30\"\r\n              rows=\"10\"\r\n              className=\"form-control\"\r\n              placeholder=\"Введите что необходимо запомнить\"\r\n            ></textarea>\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <input ref={this.dateRef} type=\"date\" className=\"form-control\" name=\"date\"/>\r\n\r\n          </div>\r\n          <br />\r\n          <button type=\"submit\" className=\"btn btn-primary\" onClick={this.add_task}>\r\n            Добавить запись\r\n          </button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}